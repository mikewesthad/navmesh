!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.PhaserNavmesh=n():t.PhaserNavmesh=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=4)}([function(t,n,e){"use strict";function r(t,n,e){var r=n.x-t.x,i=n.y-t.y;return(e.x-t.x)*i-r*(e.y-t.y)}function i(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(t-n)<=e}function o(t,n){var e=t-n,r=e+Math.PI,i=2*Math.PI;return e=r-Math.floor(r/i)*i,e-=Math.PI}function a(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4,o=r(t.start,t.end,n.start),a=r(t.start,t.end,n.end);return!(!i(o,0,e)||!i(a,0,e))}n.c=r,n.b=o,n.a=a},function(t,n,e){var r,i,o;!function(n){if("object"==typeof t&&"object"==typeof t.exports)t.exports=n();else{var e;i=[],r=n,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}}(function(){function t(t){for(var n=t,e=[];n.parent;)e.unshift(n),n=n.parent;return e}function n(){return new i(function(t){return t.f})}function e(t,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var e=0;e<t.length;e++){this.grid[e]=[];for(var i=0,o=t[e];i<o.length;i++){var a=new r(e,i,o[i]);this.grid[e][i]=a,this.nodes.push(a)}}this.init()}function r(t,n,e){this.x=t,this.y=n,this.weight=e}function i(t){this.content=[],this.scoreFunction=t}var o={search:function(e,r,i,a){e.cleanDirty(),a=a||{};var s=a.heuristic||o.heuristics.manhattan,u=a.closest||!1,l=n(),h=r;for(r.h=s(r,i),e.markDirty(r),l.push(r);l.size()>0;){var c=l.pop();if(c===i)return t(c);c.closed=!0;for(var f=e.neighbors(c),y=0,d=f.length;y<d;++y){var v=f[y];if(!v.closed&&!v.isWall()){var p=c.g+v.getCost(c),g=v.visited;(!g||p<v.g)&&(v.visited=!0,v.parent=c,v.h=v.h||s(v,i),v.g=p,v.f=v.g+v.h,e.markDirty(v),u&&(v.h<h.h||v.h===h.h&&v.g<h.g)&&(h=v),g?l.rescoreElement(v):l.push(v))}}}return u?t(h):[]},heuristics:{manhattan:function(t,n){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},diagonal:function(t,n){var e=Math.sqrt(2),r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y);return 1*(r+i)+(e-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};return e.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)o.cleanNode(this.nodes[t])},e.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)o.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},e.prototype.markDirty=function(t){this.dirtyNodes.push(t)},e.prototype.neighbors=function(t){var n=[],e=t.x,r=t.y,i=this.grid;return i[e-1]&&i[e-1][r]&&n.push(i[e-1][r]),i[e+1]&&i[e+1][r]&&n.push(i[e+1][r]),i[e]&&i[e][r-1]&&n.push(i[e][r-1]),i[e]&&i[e][r+1]&&n.push(i[e][r+1]),this.diagonal&&(i[e-1]&&i[e-1][r-1]&&n.push(i[e-1][r-1]),i[e+1]&&i[e+1][r-1]&&n.push(i[e+1][r-1]),i[e-1]&&i[e-1][r+1]&&n.push(i[e-1][r+1]),i[e+1]&&i[e+1][r+1]&&n.push(i[e+1][r+1])),n},e.prototype.toString=function(){for(var t=[],n=this.grid,e=0;e<n.length;e++){for(var r=[],i=n[e],o=0;o<i.length;o++)r.push(i[o].weight);t.push(r.join(" "))}return t.join("\n")},r.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},r.prototype.getCost=function(t){return t&&t.x!=this.x&&t.y!=this.y?1.41421*this.weight:this.weight},r.prototype.isWall=function(){return 0===this.weight},i.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t},remove:function(t){var n=this.content.indexOf(t),e=this.content.pop();n!==this.content.length-1&&(this.content[n]=e,this.scoreFunction(e)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var n=this.content[t];t>0;){var e=(t+1>>1)-1,r=this.content[e];if(!(this.scoreFunction(n)<this.scoreFunction(r)))break;this.content[e]=n,this.content[t]=r,t=e}},bubbleUp:function(t){for(var n=this.content.length,e=this.content[t],r=this.scoreFunction(e);;){var i,o=t+1<<1,a=o-1,s=null;if(a<n){var u=this.content[a];i=this.scoreFunction(u),i<r&&(s=a)}if(o<n){var l=this.content[o];this.scoreFunction(l)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=e,t=s}}},{astar:o,Graph:e}})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(6),s=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=function t(n,e,r){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,e);if(void 0===i){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=function(t){function n(t,e){r(this,n);var o=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return o._navMeshes=[],o}return o(n,t),s(n,[{key:"buildMeshFromTiled",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.objects[n]?0===t.objects[n].length&&console.warn('NavMeshPlugin: The "'+n+'" object layer in the Tilemap has 0 objects in it'):console.warn('NavMeshPlugin: The given tilemap has no object layer with the name "'+n+'"');var r=t.objects[n]||[],i=[],o=!0,s=!1,u=void 0;try{for(var l,h=r[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var c=l.value,f=c.y,y=c.y+c.height,d=c.x,v=c.x+c.width,p=new Phaser.Polygon(d,f,d,y,v,y,v,f);i.push(p)}}catch(t){s=!0,u=t}finally{try{!o&&h.return&&h.return()}finally{if(s)throw u}}var g=new a.a(this.game,i,e);return this._navMeshes.push(g),g}},{key:"destroy",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,o=this._navMeshes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.destroy()}}catch(t){e=!0,r=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}this._navMeshes=[],u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(Phaser.Plugin);n.default=l},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=e(0),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(){function t(){r(this,t),this.portals=[]}return o(t,[{key:"push",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&(n=t),this.portals.push({left:t,right:n})}},{key:"stringPull",value:function(){var t,n,r,o=this.portals,a=[],s=0,u=0,l=0;t=o[0].left,n=o[0].left,r=o[0].right,a.push(t);for(var h=1;h<o.length;h++){var c=o[h].left,f=o[h].right;if(e.i(i.c)(t,r,f)<=0){if(!(t.equals(r)||e.i(i.c)(t,n,f)>0)){a.push(n),t=n,s=u,n=t,r=t,u=s,l=s,h=s;continue}r=f,l=h}if(e.i(i.c)(t,n,c)>=0){if(!(t.equals(n)||e.i(i.c)(t,r,c)<0)){a.push(r),t=r,s=l,n=t,r=t,u=s,l=s,h=s;continue}n=c,u=h}}return 0!==a.length&&a[a.length-1].equals(o[o.length-1].left)||a.push(o[o.length-1].left),this.path=a,a}}]),t}();n.a=a},function(t,n,e){t.exports=e(2).default},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=e(1),o=e.n(i),a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=function(){function t(n){r(this,t),this.nodes=n,this.init()}return a(t,[{key:"neighbors",value:function(t){return t.neighbors}},{key:"navHeuristic",value:function(t,n){return t.centroidDistance(n)}},{key:"destroy",value:function(){this.cleanDirty(),this.nodes=[]}}]),t}();s.prototype.init=o.a.Graph.prototype.init,s.prototype.cleanDirty=o.a.Graph.prototype.cleanDirty,s.prototype.markDirty=o.a.Graph.prototype.markDirty,n.a=s},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=e(1),a=e.n(o),s=e(7),u=e(5),l=e(3),h=e(0),c=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),y=function(){function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t),this.game=n,this._debugGraphics=null,this._meshShrinkAmount=r,this._navPolygons=[];var o=!0,a=!1,l=void 0;try{for(var h,f=e.entries()[Symbol.iterator]();!(o=(h=f.next()).done);o=!0){var y=h.value,d=c(y,2),v=d[0],p=d[1];this._navPolygons.push(new s.a(n,v,p))}}catch(t){a=!0,l=t}finally{try{!o&&f.return&&f.return()}finally{if(a)throw l}}this._calculateNeighbors(),this._graph=new u.a(this._navPolygons)}return f(t,[{key:"destroy",value:function(){this._graph.destroy();var t=!0,n=!1,e=void 0;try{for(var r,i=this._navPolygons[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.destroy()}}catch(t){n=!0,e=t}finally{try{!t&&i.return&&i.return()}finally{if(n)throw e}}this._navPolygons=[],this.game=null,this.disableDebug()}},{key:"findPath",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.drawPolyPath,i=void 0!==r&&r,o=e.drawFinalPath,s=void 0!==o&&o,u=null,h=null,c=Number.MAX_VALUE,f=Number.MAX_VALUE,y=void 0,d=void 0,v=!0,p=!1,g=void 0;try{for(var b,w=this._navPolygons[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var _=b.value;d=_.boundingRadius,y=_.centroid.distance(t),y<=c&&y<=d&&_.contains(t)&&(u=_,c=y),y=_.centroid.distance(n),y<=f&&y<=d&&_.contains(n)&&(h=_,f=y)}}catch(t){p=!0,g=t}finally{try{!v&&w.return&&w.return()}finally{if(p)throw g}}if(!u&&this._meshShrinkAmount>0){var m=!0,x=!1,P=void 0;try{for(var k,S=this._navPolygons[Symbol.iterator]();!(m=(k=S.next()).done);m=!0){var j=k.value;if(d=j.boundingRadius+this._meshShrinkAmount,(y=j.centroid.distance(t))<=d){var O=this._projectPointToPolygon(t,j),D=O.distance;D<=this._meshShrinkAmount&&D<c&&(u=j,c=D)}}}catch(t){x=!0,P=t}finally{try{!m&&S.return&&S.return()}finally{if(x)throw P}}}if(!h&&this._meshShrinkAmount>0){var M=!0,E=!1,G=void 0;try{for(var T,A=this._navPolygons[Symbol.iterator]();!(M=(T=A.next()).done);M=!0){var N=T.value;if(d=N.boundingRadius+this._meshShrinkAmount,(y=N.centroid.distance(n))<=d){var F=this._projectPointToPolygon(n,N),C=F.distance;C<=this._meshShrinkAmount&&C<f&&(h=N,f=C)}}}catch(t){E=!0,G=t}finally{try{!M&&A.return&&A.return()}finally{if(E)throw G}}}if(!u||!h)return null;if(u===h){var R=[t.clone(),n.clone()];return s&&this.debugDrawPath(R,16767232,10),R}var L=a.a.astar.search(this._graph,u,h,{heuristic:this._graph.navHeuristic});if(0===L.length)return null;L.unshift(u);var q=new l.a;q.push(t);for(var U=0;U<L.length-1;U++){for(var I=L[U],W=L[U+1],V=null,X=0;X<I.neighbors.length;X++)I.neighbors[X].id===W.id&&(V=I.portals[X]);q.push(V.start,V.end)}q.push(n),q.stringPull();var z=null,H=[],B=!0,J=!1,K=void 0;try{for(var Q,Y=q.path[Symbol.iterator]();!(B=(Q=Y.next()).done);B=!0){var Z=Q.value,$=Z.clone();z&&$.equals(z)||H.push($),z=$}}catch(t){J=!0,K=t}finally{try{!B&&Y.return&&Y.return()}finally{if(J)throw K}}if(i){var tt=L.map(function(t){return t.centroid});this.debugDrawPath(tt,65280,5)}return s&&this.debugDrawPath(H,16767232,10),H}},{key:"_calculateNeighbors",value:function(){for(var t=0;t<this._navPolygons.length;t++)for(var n=this._navPolygons[t],r=t+1;r<this._navPolygons.length;r++){var i=this._navPolygons[r],o=n.centroid.distance(i.centroid);if(!(o>n.boundingRadius+i.boundingRadius)){var a=!0,s=!1,u=void 0;try{for(var l,f=n.edges[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var y=l.value,d=!0,v=!1,p=void 0;try{for(var g,b=i.edges[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var w=g.value;if(e.i(h.a)(y,w)){var _=this._getSegmentOverlap(y,w);if(_){n.neighbors.push(i),i.neighbors.push(n);var m=c(_,2),x=m[0],P=m[1],k=n.centroid.angle(y.start),S=n.centroid.angle(_[0]),j=n.centroid.angle(_[1]),O=e.i(h.b)(k,S),D=e.i(h.b)(k,j);O<D?n.portals.push(new Phaser.Line(x.x,x.y,P.x,P.y)):n.portals.push(new Phaser.Line(P.x,P.y,x.x,x.y)),k=i.centroid.angle(w.start),S=i.centroid.angle(_[0]),j=i.centroid.angle(_[1]),O=e.i(h.b)(k,S),D=e.i(h.b)(k,j),O<D?i.portals.push(new Phaser.Line(x.x,x.y,P.x,P.y)):i.portals.push(new Phaser.Line(P.x,P.y,x.x,x.y))}}}}catch(t){v=!0,p=t}finally{try{!d&&b.return&&b.return()}finally{if(v)throw p}}}}catch(t){s=!0,u=t}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}}}}},{key:"_getSegmentOverlap",value:function(t,n){var e=[{line:t,point:t.start},{line:t,point:t.end},{line:n,point:n.start},{line:n,point:n.end}];e.sort(function(t,n){return t.point.x<n.point.x?-1:t.point.x>n.point.x?1:t.point.y<n.point.y?-1:t.point.y>n.point.y?1:0});var r=e[0].line===e[1].line,i=e[1].point.equals(e[2].point);return r||i?null:[e[1].point,e[2].point]}},{key:"_projectPointToPolygon",value:function(t,n){var e=null,r=Number.MAX_VALUE,i=!0,o=!1,a=void 0;try{for(var s,u=n.edges[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,h=this._projectPointToEdge(t,l),c=t.distance(h);(null===e||c<r)&&(r=c,e=h)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{point:e,distance:r}}},{key:"_distanceSquared",value:function(t,n){var e=n.x-t.x,r=n.y-t.y;return e*e+r*r}},{key:"_projectPointToEdge",value:function(t,n){var e=n.start,r=n.end,i=this._distanceSquared(e,r),o=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/i;return o=Phaser.Math.clamp(o,0,1),new Phaser.Point(e.x+o*(r.x-e.x),e.y+o*(r.y-e.y))}},{key:"enableDebug",value:function(){this._debugGraphics||(this._debugGraphics=this.game.add.graphics(0,0),this._debugGraphics.alpha=.5)}},{key:"disableDebug",value:function(){this._debugGraphics&&(this._debugGraphics.destroy(),this._debugGraphics=null)}},{key:"isDebugEnabled",value:function(){return null!==this._debugGraphics}},{key:"debugClear",value:function(){this._debugGraphics&&this._debugGraphics.clear()}},{key:"debugDrawMesh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.drawCentroid,e=void 0===n||n,r=t.drawBounds,i=void 0!==r&&r,o=t.drawNeighbors,a=void 0===o||o,s=t.drawPortals,u=void 0===s||s;this._debugGraphics||this.enableDebug();var l=!0,h=!1,c=void 0;try{for(var f,y=this._navPolygons[Symbol.iterator]();!(l=(f=y.next()).done);l=!0){f.value.draw(this._debugGraphics,e,i,a,u)}}catch(t){h=!0,c=t}finally{try{!l&&y.return&&y.return()}finally{if(h)throw c}}}},{key:"debugDrawPath",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:65280,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(this._debugGraphics||this.enableDebug(),t.length){this._debugGraphics.lineStyle(e,n),this._debugGraphics.drawShape(new(Function.prototype.bind.apply(Phaser.Polygon,[null].concat(r(t))))),this._debugGraphics.beginFill(n);var i=.5*e;this._debugGraphics.drawEllipse(t[0].x,t[0].y,i,i);var o=t[t.length-1];this._debugGraphics.drawEllipse(o.x,o.y,i,i),this._debugGraphics.endFill()}}}]),t}();n.a=y},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=[41136,6965820,13382463,15427649,15583569],a=function(){function t(n,e,i){r(this,t),this.game=n,this.id=e,this.polygon=i,this.edges=this._calculateEdges(),this.neighbors=[],this.portals=[],this.centroid=this._calculateCentroid(),this.boundingRadius=this._calculateRadius(),this.weight=1;var a=this.id%o.length;this._color=o[a]}return i(t,[{key:"contains",value:function(t){return this.polygon.contains(t.x,t.y)||this._isPointOnEdge(t)}},{key:"destroy",value:function(){this.game=null,this.neighbors=[],this.portals=[]}},{key:"toString",value:function(){return"NavPoly(id: "+this.id+" at: "+this.centroid+")"}},{key:"isWall",value:function(){return 0===this.weight}},{key:"centroidDistance",value:function(t){return this.centroid.distance(t.centroid)}},{key:"getCost",value:function(t){return this.centroidDistance(t)}},{key:"_calculateEdges",value:function(){for(var t=this.polygon.points,n=[],e=1;e<t.length;e++){var r=t[e-1],i=t[e];n.push(new Phaser.Line(r.x,r.y,i.x,i.y))}var o=t[0],a=t[t.length-1];return n.push(new Phaser.Line(o.x,o.y,a.x,a.y)),n}},{key:"_calculateCentroid",value:function(){var t=new Phaser.Point(0,0),n=this.polygon.points.length,e=!0,r=!1,i=void 0;try{for(var o,a=this.polygon.points[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;t.add(s.x,s.y)}}catch(t){r=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}return t.divide(n,n),t}},{key:"_calculateRadius",value:function(){var t=0,n=!0,e=!1,r=void 0;try{for(var i,o=this.polygon.points[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value,s=this.centroid.distance(a);s>t&&(t=s)}}catch(t){e=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw r}}return t}},{key:"_isPointOnEdge",value:function(t){var n=!0,e=!1,r=void 0;try{for(var i,o=this.edges[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){if(i.value.pointOnSegment(t.x,t.y))return!0}}catch(t){e=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw r}}return!1}},{key:"draw",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.lineWidth=0,t.beginFill(this._color),t.drawPolygon(this.polygon),t.endFill(),n&&(t.beginFill(0),t.drawEllipse(this.centroid.x,this.centroid.y,4,4),t.endFill()),e){t.lineStyle(1,16777215);var o=this.boundingRadius;t.drawEllipse(this.centroid.x,this.centroid.y,o,o)}if(r){t.lineStyle(2,0);var a=!0,s=!1,u=void 0;try{for(var l,h=this.neighbors[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var c=l.value;t.moveTo(this.centroid.x,this.centroid.y),t.lineTo(c.centroid.x,c.centroid.y)}}catch(t){s=!0,u=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw u}}}if(i){t.lineStyle(10,0);var f=!0,y=!1,d=void 0;try{for(var v,p=this.portals[Symbol.iterator]();!(f=(v=p.next()).done);f=!0){var g=v.value;t.moveTo(g.start.x,g.start.y),t.lineTo(g.end.x,g.end.y)}}catch(t){y=!0,d=t}finally{try{!f&&p.return&&p.return()}finally{if(y)throw d}}}}}]),t}();n.a=a}])});
//# sourceMappingURL=phaser-navmesh.min.js.map